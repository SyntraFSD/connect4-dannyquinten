{"version":3,"sources":["../../src/js/login.js"],"names":["goToLogin","document","querySelector","goToRegister","loginForm","loginAlert","registerForm","apiDomain","switchForm","event","preventDefault","classList","toggle","hideLoginAlert","add","showLoginAlert","content","textContent","remove","getFormData","form","inputFields","querySelectorAll","formData","forEach","inputField","name","value","handleLoginRequest","request","target","console","log","readyState","response","JSON","parse","responseText","status","login","XMLHttpRequest","addEventListener","open","setRequestHeader","send","stringify","handleRegisterRequest","register"],"mappings":"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","sourcesContent":["const goToLogin = document.querySelector('#goToLogin');\nconst goToRegister = document.querySelector('#goToRegister');\nconst loginForm = document.querySelector('.Login');\nconst loginAlert = document.querySelector('.Login-alert');\nconst registerForm = document.querySelector('.Register');\nconst apiDomain = 'http://connect4.pienter.space';\n\nfunction switchForm(event) {\n  event.preventDefault();\n  loginForm.classList.toggle('hide');\n  registerForm.classList.toggle('hide');\n}\nfunction hideLoginAlert() {\n  loginAlert.classList.add('hide');\n}\nfunction showLoginAlert(content) {\n  loginAlert.textContent = content;\n  loginAlert.classList.remove('hide');\n}\nfunction getFormData(form) {\n  const inputFields = form.querySelectorAll('input');\n  const formData = {};\n  inputFields.forEach((inputField) => {\n    formData[inputField.name] = inputField.value;\n  });\n  return formData;\n}\n\nfunction handleLoginRequest(event) {\n  const request = event.target;\n  console.log(request);\n  if (request.readyState === 4) {\n    const response = JSON.parse(request.responseText);\n    // console.log(JSON.parse(request.responseText));\n    console.log(request.status);\n    if (request.status >= 200 && request.status < 300) {\n      console.log('success');\n      console.log(request);\n    } else if (request.status === 401) {\n      showLoginAlert(response);\n    }\n  }\n}\n\nfunction login(event) {\n  event.preventDefault();\n  const formData = getFormData(loginForm);\n  const request = new XMLHttpRequest();\n  request.addEventListener('readystatechange', handleLoginRequest);\n  request.open('POST', apiDomain + '/api/auth/login');\n  request.setRequestHeader('Content-Type', 'application/json');\n  request.send(JSON.stringify(formData));\n}\n\nfunction handleRegisterRequest(event) {\n  const request = event.target;\n  console.log(request);\n  if (request.readyState === 4) {\n    console.log(request.status);\n    if (request.status >= 200 && request.status < 300) {\n      console.log('success');\n      console.log(request);\n    } else {\n      console.log('error');\n      console.log(request);\n    }\n  }\n}\n\nfunction register(event) {\n  event.preventDefault();\n  const formData = getFormData(registerForm);\n  const request = new XMLHttpRequest();\n  request.addEventListener('readystatechange', handleRegisterRequest);\n  request.open('POST', apiDomain + '/api/auth/register');\n  request.setRequestHeader('Content-Type', 'application/json');\n  request.send(JSON.stringify(formData));\n}\n\ngoToRegister.addEventListener('click', switchForm);\ngoToLogin.addEventListener('click', switchForm);\nloginForm.addEventListener('submit', login);\nregisterForm.addEventListener('submit', register);\nloginForm.addEventListener('input', hideLoginAlert);\n"],"file":"login.js"}